{% extends "base.html" %}
{% block custom_css %}
    <link rel="stylesheet" href="/css/apply.css">
{% endblock %}
{% block custom_js %}
    <script src="/lib/jquery-validation-1.13.1/jquery.validate.min.js"></script>
    <script src="/js/apply.js"></script>
{% endblock %}
{% block apply_active %}
    class = "active"
{% endblock %}

{% block container %}
    <div class="container">
        <div class = "row">
            <div class="col-sm-5 col-sm-offset-1">
                <div class="row">
                    <div class="form-group col-sm-8 col-sm-offset-4"><h4>Apply for a new Virtual Machine</h4></div>
                </div>
                <form class="form-horizontal" action = "/apply_new_vm/" method="post" id="apply-form">
                    <div class="form-group">
                        <label class="col-sm-4 control-label">OS</label>
                        <div class="col-sm-8">
                            <select class="form-control" name="os">
                                <option value="Ubuntu 14.04 LTS">Ubuntu 14.04 LTS</option>
                            </select>
                        </div>
                    </div>
                    <!--div class="form-group">
                        <label class="col-sm-4 control-label">Password</label>
                        <div class="col-sm-8">
                            <input type="password" class="form-control", placeholder="password" id="password" name="password">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-4 control-label">Pwd Confirm</label>
                        <div class="col-sm-8">
                            <input type="password" class="form-control", placeholder="pwd Confirm" id="pwd_confirm" name="pwd_confirm">
                        </div>
                    </div-->
                    <div class="form-group">
                        <label class="col-sm-4 control-label">Memory</label>
                        <div class="col-sm-8">
                            <select class="form-control" name="memory">
                                <option value="512">512M</option>
                                <option value="1024">1024M</option>
                                <option value="2048">2048M</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="col-sm-4 control-label">OS type</label>
                        <div class="col-sm-8">
                            <select class="form-control" name="vm_type">
                                <option value="1">Normal VM</option>
                            </select>
                        </div>
                    </div>
                    <br />
                    <div class = "pull-right">
                        <p>默认账户名为<code>ubuntu-user</code>，密码为<code>ubuntu</code></p>
                        <p><code>root</code>账户密码为<code>root</code></p>
                        <p>为了您的隐私安全，申请成功后，<Strong style="color: red">请尽快修改密码！</Strong></p>
                    </div>
                    <br />
                </form>
                <a onclick="form_submit()" class="col-sm-4 btn btn-primary pull-right">Apply</a>
            </div>
            <div class="col-sm-5">
				<img class="page-image" src="/img/cloudcomputing.jpg">
			</div>
        </div>
    </div>
    <!--
    模态框代码
    -->
    <div class="modal fade" id="applymodal" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">申请信息</h4>
                </div>
                <div class="modal-body">
                    新建虚拟机的申请已经提交至管理员，请等待管理员审核。
                </div>
                <div class="modal-footer">
                    <a href="" class="btn btn-default">继续申请</a>
                    <a href="/../home/" class="btn btn-default">返回我的主页</a>
                </div>
            </div>
        </div>
    </div>

    <script type="text/javascript">
        var hasApplied = 0;
        {% if has_applied %}
            hasApplied = {{ has_applied }}
        {% endif %}
        if(hasApplied == 1){
           $(function () {
               $('#applymodal').modal({
                keyboard: false
               })
           });
        }


    </script>

{% endblock %}